ACTOR STBoss 32767
{
	//$Category Stronghold_Monsters
	Health 200000
	Radius 48
	Height 128
	Scale 2.0
	Mass 50000
	Speed 6
	PainChance 1
	MinMissileChance 32
	MeleeRange 128
	Monster
	DamageFactor "Animate",0
	DamageFactor "STBoss",0.01
	DamageFactor "STBossFactor",0.05
	+FLOORCLIP
	+BOSSDEATH
	+NORADIUSDMG
	+BOSS
	+DONTRIP
	+MISSILEMORE
	+MISSILEEVENMORE
	+LOOKALLAROUND
	+NOTIMEFREEZE
	+NOBLOCKMONST
	+NOTARGET
	+NOINFIGHTING
	+QUICKTORETALIATE
	PainSound "baron/pain"
	ActiveSound "baron/active"
	Translation "16:47=32:47","48:79=32:47","112:127=160:167"
	Obituary "%o couldn't evade the wrath of Mephistopheles."
	var int user_theta;
	States
	{
	Spawn:
		BOSS A 1 A_Look
		loop
	Heal:
	See:
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		TNT1 A 0 A_ChangeFlag("NODAMAGE",0)
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS A 0 A_JumpIfInventory("Clip",50,"LongTeleport")
		BOSS A 0 NoiseAlert(0,0)
		BOSS A 0 A_Jump(5,"Necromancy")
		BOSS A 0 A_Jump(16,"Teleport")
		BOSS AAAAAABBBBBBCCCCCCDDDDDD 1 A_VileChase
		Loop
	Necromancy:
		BOSS A 1 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS A 0 A_JumpIfInventory("Clip",50,"LongTeleport")
		BOSS A 0 A_Jump(15,"RaiseArmy")
		BOSS A 0 A_Jump(45,"SpiritAttack")
		BOSS A 0 A_Jump(5,"Haunting")
		BOSS A 0 A_VileChase
		Loop
	Teleport:
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS A 0 A_JumpIfInventory("Clip",50,"LongTeleport")
		BOSS A 1 A_FaceTarget
		BOSS A 3
		BOSS A 3 BRIGHT
		BOSS A 0 A_UnSetShootable
		BOSS A 1 A_PlaySound("pyro/tele")
		BOSS A 1 A_SetTranslucent(0.90)
		BOSS AAAAAAAA 1 A_FadeOut(.1,0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
		BOSS A 1 A_PlaySound("pyro/tele")
		BOSS AAAAAAAAAA 1 A_FadeIn
		BOSS A 0 A_SetShootable
		BOSS A 0 A_Jump(32,"FireMissile")
		BOSS A 0 A_JumpIfCloser(1024,"See")
		Loop
	LongTeleport:
		BOSS A 0 A_TakeInventory("Clip",999)
		BOSS A 4 A_FaceTarget
		BOSS A 3 BRIGHT
		BOSS A 0 A_UnSetShootable
		BOSS A 1 A_PlaySound("pyro/tele")
		BOSS A 1 A_SetTranslucent(0.90)
		BOSS AAAAAAAA 1 A_FadeOut(.1,0)
		BOSS A 1 A_Changeflag("SOLID",0)
		BOSS A 0 A_TakeInventory("Clip",999)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5B",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("SpiritCaller",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5B",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("SpiritCaller",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5B",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("SpiritCaller",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_ExtChase(0,0,1,1)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CustomMissile("STBossAttack5",0,0,random(0,360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 5 A_Wander
		BOSS A 0 A_TakeInventory("Clip",999)
		BOSS A 1 A_Changeflag("SOLID",1)
		BOSS A 1 A_PlaySound("pyro/tele")
		BOSS AAAAAAAAAA 1 A_FadeIn
		BOSS A 0 A_SetShootable
		BOSS A 0 A_TakeInventory("Clip",999)
		Goto FireMissile
	FireMissile:
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS A 0 A_Jump(32,"FireNova")
		BOSS A 0 A_Jump(32,"FireVolley")
		BOSS A 0 A_Jump(32,"FireBall")
		BOSS A 0 A_Jump(32,"ConvergeAttack")
		BOSS A 0 A_Jump(32,"FireSpark")
		BOSS A 0 A_Jump(32,"Eruption")
		BOSS A 1 A_VileChase
		Loop
	CallingOfTheDamned:
		BOSS E 0 A_Changeflag("NOPAIN",1)
		BOSS E 0 A_AlertMonsters
		BOSS E 0 A_JumpIfHealthLower(7500,"CallingOfTheDamned2")
		BOSS E 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS E 3 A_FaceTarget
		BOSS E 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS E 4 A_FaceTarget
		Goto CallingOfTheDamned+1
	CallingOfTheDamned2:
		BOSS F 0 A_JumpIfHealthLower(5000,"CallingOfTheDamned3")
		BOSS F 0 A_CustomMissile("EruptionShot",64,0,Random(0,360))
		BOSS E 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS E 3 A_FaceTarget
		BOSS F 0 A_CustomMissile("EruptionShot2",64,0,Random(0,360))
		BOSS E 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS E 4 A_FaceTarget
		Goto CallingOfTheDamned2
	CallingOfTheDamned3:
		BOSS G 0 A_JumpIfHealthLower(2500,"CallingOfTheDamned4")
		BOSS G 3 A_FaceTarget
		BOSS GG 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot2",64,0,Random(0,360))
		BOSS G 3 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS G 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot2",64,0,Random(0,360))
		Goto CallingOfTheDamned3
	CallingOfTheDamned4:
		BOSS G 1 A_FaceTarget
		BOSS G 0 A_CustomMissile("STFireEffect",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot2",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS G 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS G 1 A_FaceTarget
		BOSS G 0 A_CustomMissile("RainCometNull",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("EruptionShot2",64,0,Random(0,360))
		BOSS G 2 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack5B",64,0,Random(0,360))
		BOSS G 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		Goto CallingOfTheDamned4
	Melee:
		BOSS A 0 A_Jump(64,"Missile")
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS E 17 A_FaceTarget
		BOSS F 18 A_FaceTarget
		BOSS GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 0 A_SpawnItemEx("STFireEffect2",random(-160,160),random(-160,160))
		BOSS G 35
		Goto See
	Missile:
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		BOSS A 0 A_JumpIfInventory("Clip",50,"LongTeleport")
		BOSS A 0 A_Jump(40,"FireNova")
		BOSS A 0 A_Jump(36,"FireVolley")
		BOSS A 0 A_Jump(32,"FireBall")
		BOSS A 0 A_Jump(28,"ConvergeAttack")
		BOSS A 0 A_Jump(24,"FireSpark")
		BOSS A 0 A_Jump(20,"Eruption")
		BOSS A 0 A_Jump(16,"RaiseArmy")
		BOSS A 0 A_Jump(12,"SpiritAttack")
		BOSS A 0 A_Jump(8,"Haunting")
		BOSS A 0 A_Jump(4,"Hadouken")
		BOSS A 1 A_VileChase
		Loop
	FireNova:
		BOSS E 0 A_SetUserVar("user_theta",0)
		BOSS EF 3 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack2",0,0,user_theta,2,4)
		BOSS G 0 A_SetUserVar("user_theta",user_theta+36)
		BOSS G 0 A_JumpIf(user_theta>=360,1)
		Goto FireNova+3
		BOSS G 3 A_FaceTarget
		Goto Missile
	FireVolley:
		BOSS EF 8 A_FaceTarget
		BOSS GGGGGGGG 2 A_CustomMissile("STBossAttack3")
		Goto See
	FireBall:
		BOSS EF 4 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack7",64,0,10)
		BOSS G 0 A_CustomMissile("STBossAttack7",64,0,-10)
		BOSS G 4 A_CustomMissile("STBossAttack7",64)
		Goto See
	ConvergeAttack:
		BOSS EF 5 A_FaceTarget
		BOSS G 0 A_CustomMissile("STBossAttack1",64,0,20)
		BOSS G 0 A_CustomMissile("STBossAttack1",64,0,-20)
		BOSS G 5 A_CustomMissile("STBossAttack1",64)
		Goto See
	FireSpark:
		BOSS EF 8 A_FaceTarget
		BOSS G 0 A_SpawnItemEx("STFireEffect")
		BOSS G 8 A_CustomMissile("STBossAttack9",0,0,0,2,4)
		Goto See
	Eruption:
		BOSS EF 6 A_FaceTarget
		BOSS G 0 A_SpawnItemEx("STFireEffect")
		BOSS G 8 A_CustomBulletAttack(0,0,1,0,"Eruption")
		Goto See
	RaiseArmy:
		BOSS H 8 A_FaceTarget
		BOSS GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 0 A_CustomMissile("STBossAttack5",0,0,random(0,360))
		Goto See
	SpiritAttack:
		BOSS H 8 A_FaceTarget
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack4",0,0,random(0,360))
		BOSS A 0 A_AlertMonsters
		Goto See
	Haunting:
		BOSS H 8 A_FaceTarget
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack6",0,0,random(0,360))
		BOSS A 0 A_AlertMonsters
		Goto See
	Hadouken:
		BOSS A 8 A_FaceTarget
		BOSS A 1 A_Changeflag("NOGRAVITY",1)
		BOSS A 0 A_Changeflag("INVULNERABLE",1)
		BOSS A 1 ThrustThingZ(0,3,0,0)
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEEEEEEEEEEEEEEEEEEEEFFFFFFFFFF 3 A_SpawnItemEx("STFireEffect")
		BOSS FFFFFFFFFF 2 A_FaceTarget
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("RainCometNull",0,0,Random(0,360))
		BOSS G 70 A_CustomMissile("FinalFlash",75)
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack4",0,0,random(0,360))
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack5",0,0,random(0,360))
		BOSS G 70 A_Changeflag("NOGRAVITY",0)
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack6",0,0,random(0,360))
		BOSS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("STBossAttack5B",0,0,random(0,360))
		BOSS G 35 A_Changeflag("INVULNERABLE",0)
		Goto See
	Pain:
		BOSS H 1 A_Changeflag("NOGRAVITY",0)
		BOSS H 1 A_Pain
		BOSS H 1 A_Changeflag("INVULNERABLE",0)
		BOSS A 0 A_JumpIfHealthLower(10000,"CallingOfTheDamned")
		Goto Missile
	Death:
		BOSS I 0 A_SetUserVar("user_theta",0)
		BOSS I 8 A_Mushroom("Pyroflare",random(2,7))
		BOSS I 0 A_SpawnItemEx("STFireEffect")
		BOSS I 0 A_SetUserVar("user_theta",user_theta+1)
		BOSS I 0 A_JumpIf(user_theta>=19,1)
		Goto Death+1
		BOSS G 0 A_SetUserVar("user_theta",0)
	DeathLoop:
		BOSS G 0 A_CustomMissile("STBossAttack2",0,0,user_theta,2,4)
		BOSS I 0 A_SetUserVar("user_theta",user_theta+30)
		BOSS I 0 A_JumpIf(user_theta>=360,1)
		Loop
		BOSS I 8 A_SpawnItemEx("STFireEffect")
		BOSS K 8 ACS_NamedExecuteAlways("AwardPoints",0)
		BOSS L 8 A_NoBlocking
		BOSS MN 8
		BOSS O 0 A_SpawnItemEx("SpiritBoss",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TELEFRAG)
		BOSS O 1 A_FadeOut(0.0025)
		Wait
	}
}

ACTOR STBossAttack1
{
	+SEEKERMISSILE
	DamageType "STBossFactor"
	Speed 20
	Damage 12
	Radius 12
	Height 12
	FastSpeed 35
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 0.6
	Translation "112:127=160:167"
	+RANDOMIZE
	+NOTIMEFREEZE
	SeeSound "imp/attack"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR A 2 bright A_SpawnItemEx("KDBossFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		STFR A 0 A_SeekerMissile(2,5)
		STFR A 2 bright A_SpawnItemEx("KDBossBiggerFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		STFR A 0 A_SeekerMissile(2,5)
		loop
	Death:
		BAL7 C 6 Bright
		TNT1 A 0 A_Explode(48,256,0)
		TNT1 A 0 A_CheckSight(3)
		TNT1 A 0 A_SpawnItemEx("KDBossSparkGen",0,0,10)
		TNT1 A 0 A_SpawnItemEx("KDBossSmokeGen",0,0,10)
		TNT1 A 0 A_SpawnItemEx("KDBossFlameGen",0,0,10)
		BAL7 DE 6 bright
		stop
	}
}

ACTOR Eruption : BulletPuff
{
	+FLOORHUGGER
	+NOTIMEFREEZE
	VSpeed 0
	var int user_theta;
	States
	{
	Spawn:
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("KDBossBiggerFlame",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,90),0,8)
		TNT1 AAAAA 1 A_SpawnItemEx("STBossDropFire",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,90),0,8)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("KDBossBiggerFlame",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,90),0,8)
		TNT1 AAAAA 1 A_SpawnItemEx("STBossDropFire",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,90),0,8)
		TNT1 A 0 A_SetUserVar("user_theta",0)
	Looping:
		TNT1 A 1 A_CustomMissile("EruptionShot",0,0,random(0,360),2,Random(85,90))
		TNT1 A 1 A_CustomMissile("EruptionShot2",0,0,random(0,360),2,Random(85,90))
		TNT1 A 0 A_SetUserVar("user_theta",user_theta+1)
		TNT1 A 0 A_JumpIf(user_theta>=53,1)
		Loop
		TNT1 A 1
		Stop
	}
}

ACTOR EruptionShot
{
	+NOTIMEFREEZE
	DamageType "STBossFactor"
	Speed 20
	Damage 4
	Radius 24
	Height 32
	FastSpeed 35
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 1
	Translation "112:127=160:167"
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR A -1 bright
		loop
	Death:
		BAL7 C 0 A_SpawnItemEx("KDBossFlameGen")
		BAL7 C 6 bright A_Explode(16,256,0)
		BAL7 DE 6 bright
		stop
	}
}
ACTOR EruptionShot2 : EruptionShot
{
	states
	{
	Spawn:
		STFR B -1 bright
		loop
	}
}

ACTOR STBossAttack2
{
	DamageType "STBossFactor"
	Speed 20
	Damage 1
	Radius 24
	Height 24
	FastSpeed 35
	Projectile
	+RIPPER
	+NOTIMEFREEZE
	+RANDOMIZE
	RenderStyle Add
	Alpha 1
	Scale 4.0
	SeeSound "vile/firestrt"
	DeathSound "vile/firecrkl"
	states
	{
	Spawn:
		TNT1 A 1 A_SpawnItemEx("KDBossBiggerFlame",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		Loop
	Death:
		TNT1 A 0 A_CheckSight("NoGen")
		TNT1 A 0 A_SpawnItemEx("KDBossFlameGen")
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KDBossBiggerSmoke",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		FIRE CCBBCCBBCCBDCCDDCCDDEEDDEEDDEEFFEEFFEEFFGGHHGGHHGGHH 1 bright A_SpawnItemEx("KDBossBiggerFlame",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,160),0,8)
		stop
	NoGen:
		FIRE CCBBCCBBCCBDCCDDCCDDEEDDEEDDEEFFEEFFEEFFGGHHGGHHGGHH 1 bright
		stop
	}
}
ACTOR STBossAttack3
{
	DamageType "STBossFactor"
	Speed 20
	Damage 8
	Radius 18
	Height 18
	FastSpeed 35
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 0.5
	Translation "112:127=160:167"
	+RANDOMIZE
	+RIPPER
	+NOTIMEFREEZE
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR A 1 bright A_SpawnItemEx("KDBossBiggerFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		loop
	Death:
		TNT1 A 0 A_CheckSight(3)
		BAL7 C 0 A_SpawnItemEx("KDBossSmokeGen")
		BAL7 C 0 A_SpawnItemEx("KDBossSparkGen")
		BAL7 C 0 A_SpawnItemEx("KDBossFlameGen")
		BAL7 C 6 bright A_Explode(32,256,0)
		BAL7 DE 6 bright
		stop
	}
}

ACTOR STBossAttack4
{
	Translation Ice
	RenderStyle Add
	Alpha 1.0
	+NOTIMEFREEZE
	+SHOOTABLE
	+LOOKALLAROUND
	+NOPAIN
	Radius 16
	Height 16
	Health 1
	Speed 20
	ReactionTime 2
	states
	{
	Spawn:
		SKUL A 0 A_JumpIfInventory("Clip",1,"Looking")
		SKUL A 0 A_GiveInventory("Clip",15)
	Looking:
		SKUL A 0 A_TakeInventory("Clip",1)
		SKUL A 0 A_JumpIfInventory("Clip",1,1)
		Goto Death
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Look
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Look
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Look
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Look
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Look
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Look
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Look
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Look
		loop
	See:
		SKUL A 0 A_TakeInventory("Clip",1)
		SKUL A 0 A_JumpIfInventory("Clip",1,1)
		Goto Death
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE | CHF_RESURRECT )
		loop
	Melee:
		SKUL A 0 A_TakeInventory("Clip",1)
		SKUL A 0 A_JumpIfInventory("Clip",1,1)
		Goto Death
		SKUL CD 5 BRIGHT A_CustomMeleeAttack(Random(0,1)*2,"none","none","CoreFriendly",0)
		SKUL A 5 BRIGHT A_Recoil(-32)
		SKUL A 0 A_Stop
		goto See
	Heal:
	Death:
		SKUL AABB 3 BRIGHT A_FadeOut(0.1)
		Loop
	}
}
ACTOR STBossAttack4B : STBossAttack4
{
	States
	{
	See:
		SKUL A 0 A_TakeInventory("Clip",1)
		SKUL A 0 A_JumpIfInventory("Clip",1,1)
		Goto Death
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		loop
	}
}
ACTOR STBossAttack5
{
	Projectile
	+RIPPER
	-DROPOFF
	+BLOODLESSIMPACT
	Speed 20
	FastSpeed 15
	states
	{
	Spawn:
		TNT1 AAAAAAAAAAAAAAA 4 A_SpawnItemEx("STBossSkeleton",0,0,0,0,0,0,0,0,224)
		TNT1 A 4 A_SpawnItemEx("STBossSkeleton2",0,0,0,0,0,0,0,0,224)
		loop
	Death:
		TNT1 A 0
		stop
	}
}
ACTOR STBossAttack5B: StBossAttack5
{
	states
	{
	Spawn:
		TNT1 A 7 A_SpawnItemEx("STBossSkeleton2",0,0,0,0,0,0,0,0,240)
		TNT1 AAAAAAA 7 A_SpawnItemEx("STBossSkeleton",0,0,0,0,0,0,0,0,240)
		loop
	}
}

ACTOR STBossAttack6 : STBossAttack4
{
	states
	{
	Spawn:
		SKUL A 0 A_JumpIfInventory("Clip",1,"Looking")
		SKUL A 0 A_GiveInventory("Clip",75)
		goto Looking
	}
}
ACTOR STBossAttack6B : STBossAttack6
{
	States
	{
	See:
		SKUL A 0 A_TakeInventory("Clip",1)
		SKUL A 0 A_JumpIfInventory("Clip",1,1)
		Goto Death
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL A 0 A_Wander
		SKUL A 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		SKUL B 0 A_Wander
		SKUL B 1 BRIGHT A_Chase("Melee",0,CHF_FASTCHASE )
		loop
	}
}
ACTOR STBossAttack7
{
	DamageType "STBossFactor"
	Speed 20
	Damage 16
	Radius 18
	Height 18
	FastSpeed 35
	Projectile
	RenderStyle Add
	Scale 0.75
	+RANDOMIZE
	+NOTIMEFREEZE
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	var int user_theta;
	states
	{
	Spawn:
		STFR B 1 bright A_SpawnItemEx("KDBossBiggerFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		loop
	Death:
		MISL B 6 bright A_Explode(64,256,0)
		TNT1 A 0 A_CheckSight(3)
		MISL C 0 A_SpawnItemEx("KDBossSmokeGen")
		MISL C 0 A_SpawnItemEx("KDBossSparkGen")
		MISL C 0 A_SpawnItemEx("KDBossFlameGen")
		MISL C 0 A_CustomMissile("STBossAttack2",0,0,user_theta,2,4)
		MISL C 0 A_SetUserVar("user_theta",user_theta+18)
		MISL C 0 A_JumpIf(user_theta>=360,1)
		Goto Death+5
		MISL CD 6 bright
		stop
	}
}
ACTOR STBossAttack8
{
	DamageType "STBossFactor"
	Damage 1000
	Radius 24
	Height 24
	FastSpeed 35
	Projectile
	+RANDOMIZE
	RenderStyle Add
	Scale 4.0
	SeeSound "vile/firestrt"
	DeathSound "vile/firecrkl"
	ReactionTime 10
	+NOTIMEFREEZE
	states
	{
	Spawn:
		TNT1 A 0 A_Explode(random(0,random(0,1)),128,0)
		TNT1 A 1 A_SpawnItemEx("KDBossSmoke",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		TNT1 A 1 A_SpawnItemEx("KDBossFlame",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		TNT1 A 1 A_SpawnItemEx("KDBossBiggerSmoke",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		TNT1 A 1 A_SpawnItemEx("KDBossBiggerFlame",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
		TNT1 A 0 A_CountDown
		Loop
	Death:
		TNT1 A 0 A_CheckSight("NoGen")
		TNT1 A 0 A_SpawnItemEx("KDBossFlameGen")
		TNT1 A 0 A_SpawnItemEx("KDBossSparkGen")
		TNT1 AAAAAAAAA 0 A_SpawnItemEx("KDBossBiggerSmoke",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
	NoGen:
		FIRE A 0 A_PlaySound("vile/firecrkl")
		FIRE CBCBCDCDCDEDEDEFEFEFGHGHGH 2 bright A_Explode(random(0,random(0,100)),128,0)
		stop
	}
}
ACTOR STBossSkeleton 32766
{
	obituary "%o got whalloped by a skeleton."
	health 20
	scale 0.75
	radius 15
	height 42
	mass 20
	speed 8
	painchance 256
	dropitem "SoulSphere" 1
	deathsound "skeleton/death"
	Translation "48:79=80:111","16:47=80:111","176:191=80:111","160:167=80:103",
		"128:151=88:103","232:235=104:105","236:239=110:111","13:15=107:111"
	MONSTER
	+FLOORCLIP
	+NOBLOOD
	+NOBLOCKMONST
	+NOPAIN
	+DROPOFF
	states
	{
	Spawn:
		SKEL Q 0 A_JumpIfInventory("Clip",1,"Beginning")
		SKEL Q 0 A_GiveInventory("Clip",1)
		Goto Raise
	Beginning:
		SKEL AB 10 A_Look
		loop
	See:
		SKEL A 0 A_ChangeFlag("NOPAIN",0)
		SKEL AAAABBBBCCCCDDDDEEEEFFFF 1 A_Chase
		loop
	Melee:
		SKEL G 0 A_FaceTarget
		SKEL G 6 A_SkelWhoosh
		SKEL H 6 A_FaceTarget
		SKEL I 6 A_CustomMeleeAttack(Random(0,1)*2,"skeleton/melee","skeleton/melee","CoreFriendly",0)
		goto See
	Pain:
		SKEL L 5
		SKEL L 5 A_Pain
		goto See
	Death:
		SKEL LM 7
		SKEL N 7 A_Scream
		SKEL O 7 A_NoBlocking
		SKEL P 7
		SKEL Q -1 A_Jump(128,"FadeOut")
		stop
	FadeOut:
		SKEL Q 1 A_FadeOut(0.05)
		Wait
	Pain.Animate:
	Death.Animate:
		SKEL L 1 A_SpawnItemEx("STFireEffectB")
		SKEL L 1 A_SpawnItemEx("STBossSkeleton2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		stop
	Raise:
		SKEL QPONML 5
		goto See
	}
}

ACTOR STBossSkeleton2 : STBossSkeleton
{
	obituary "\c[D1]%o \c[D1]got whalloped by a skeleton."
	PainChance 192
	dropitem "MegaSphere" 4
	PainChance "Animate",0
	DamageFactor "Animate",0
	Health 100
	Scale 0.85
	Translation "48:79=168:191","16:47=168:191","176:191=168:191","160:167=168:183",
		"128:151=172:183","232:235=187:188","236:239=190:191","13:15=188:191"
	states
	{
	Spawn:
		SKEL AB 10 A_Look
		loop
	Melee:
		SKEL G 0 A_FaceTarget
		SKEL G 6 A_SkelWhoosh
		SKEL H 6 A_FaceTarget
		SKEL I 6 A_CustomMeleeAttack(20,"skeleton/melee","skeleton/melee","CoreFriendly",0)
		goto See
	Death:
		SKEL LM 7
		SKEL N 7 A_Scream
		SKEL O 7 A_NoBlocking
		SKEL PPPPPPP 1 A_SpawnItemEx("KDBossSmallerSmoke",Random(-7,7),Random(-7,7),0,0,0,0.01 * Random(1,125))
		SKEL Q -1 A_Jump(128,"FadeOut")
		stop
	}
}
ACTOR STFireEffect
{
	+NOINTERACTION
	+CLIENTSIDEONLY
	Scale 4.0
	RenderStyle Add
	states
	{
	Spawn:
		FIRE ABABCDCDEFEFGHGH 2 bright A_SpawnItemEx("KDBossFlame",Random(-7,7),Random(-7,7),0,0,0,0.01 * Random(1,125))
		stop
	}
}

ACTOR STFireEffectB : STFireEffect
{
	Scale 1.25
}

ACTOR STFireEffect2
{
	DamageType "STBoss"
	Speed 20
	Damage 1
	Radius 24
	Height 24
	FastSpeed 35
	Projectile
	+RIPPER
	+RANDOMIZE
	+NOTIMEFREEZE
	RenderStyle Add
	Scale 4.0
	SeeSound "vile/firestrt"
	DeathSound "vile/firecrkl"
	states
	{
	Spawn:
		TNT1 A 1 A_SpawnItemEx("KDBossFlameGen")
	Death:
		TNT1 A 0 A_Explode(128,128,0)
		TNT1 A 0 A_CheckSight("NoGen")
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KDBossBiggerSmoke",Random(-40,40),Random(-40,40),Random(0,20),VelX,VelY,0.1 * Random(-2,80),0,8)
	NoGen:
		FIRE ABABCDCDEFEFGHGH 2 bright A_SpawnItemEx("KDBossBiggerFlame",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,160),0,8)
		stop
	}
}

// ============================== SFX Actors by KeksDose
// =====================================================

Actor KDBossSparkGen
{
	+NOTIMEFREEZE
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
	Spawn:
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KDBossSpark",0,0,0,0.1 * Random(0,125),0.1 * Random(0,125),0.1 * Random(0,140),Random(0,359),128,96)
		Stop
	}
}

Actor KDBossSmokeGen : KDBossSparkGen
{
	States
	{
	Spawn:
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KDBossSmoke",0,0,0,0.1 * Random(0,12),0.1 * Random(0,12),0.1 * Random(0,25),Random(0,359))
		Stop
	}
}

Actor KDBossFlameGen : KDBossSparkGen
{
	States
	{
	Spawn:
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx("KDBossFlame",0,0,0,0.1 * Random(0,20),0.1 * Random(0,20),0.1 * Random(0,25),Random(0,359))
		Stop
	}
}

Actor KDBossSpark
{
	Radius 4
	Height 8
	Gravity 0.4
	RenderStyle Add
	Scale 0.15
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
	Spawn:
		PAO1 A 35 Bright
		PAO1 A 1 Bright A_FadeOut(0.05)
		Wait
	}
}

Actor KDBossSmoke : KDBossSpark
{
	RenderStyle Translucent
	Scale 0.8
	Alpha 0.15
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Jump(256,1,2,3,4)
		SMOK ABCD 0 A_Jump(256,"End")
	End:
		SMOK "#" 1 A_FadeOut(0.001)
		Loop
	}
}

Actor KDBossBiggerSmoke : KDBossSmoke
{
	Scale 1.5
}
Actor KDBossSmallerSmoke : KDBossSmoke
{
	Scale 0.5
}

Actor KDBossFlame : KDBossSpark
{
	Scale 0.6
	Alpha 0.4
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Jump(256,1,2,3,4)
		FRED ABCD 0 A_Jump(256,"End")
	End:
		FRED "#" 1 A_FadeOut(0.0125)
		Loop
	}
}

Actor KDBossBiggerFlame : KDBossFlame
{
	Scale 1.25
}

ACTOR FinalFlash : FastProjectile
{
	Speed 48
	Damage 1000
	Radius 48
	Height 64
	FastSpeed 64
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 3.0
	+RANDOMIZE
	+DONTREFLECT
	+NOTIMEFREEZE
	+FORCERADIUSDMG
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	DamageType "STBoss"
	var int user_theta;
	states
	{
	Spawn:
		WLXP B 1 bright A_SpawnItemEx("FinalFlashTrail",Random(16,-16),Random(16,-16),Random(16,-16),Random(0,8) ,Random(0,8) ,Random(0,8) ,Random(0,360))
		WLXP B 0 A_Explode(Random(224,256),160,0)
		WLXP B 1 bright A_SpawnItemEx("FinalFlashTrail",Random(16,-16),Random(16,-16),Random(16,-16),Random(0,8) ,Random(0,8) ,Random(0,8) ,Random(0,360))
		WLXP B 0 A_Explode(Random(336,384),96,0)
		Loop
	Death:
		TNT1 A 0 A_Explode(512,512,0)
		TNT1 A 0 A_SpawnItemEx("KDBossFlameGen")
		TNT1 A 0 A_SpawnItemEx("KDBossSmokeGen")
		TNT1 A 0 A_SpawnItemEx("KDBossSparkGen")
		TNT1 A 0 A_SpawnItemEx("FinalFlashDeath")
		TNT1 A 0 A_SetUserVar("user_theta",256)
	DeathLoop:
		TNT1 AA 0 A_SpawnItemEx("FlashFire",random(-user_theta,user_theta),random(-user_theta,user_theta),random(-128,128),0,0,0,0,SXF_SETMASTER)
		TNT1 A 1
		TNT1 A 0 A_SetUserVar("user_theta",user_theta+8)
		TNT1 A 0 A_JumpIf(user_theta>=512,1)
		Goto Death+5
		TNT1 A 0 A_SetUserVar("user_theta",0)
	FinalLoop:
		TNT1 AA 0 A_SpawnItemEx("FlashFire",random(-512,512),random(-512,512),random(-128,128),0,0,0,0,SXF_SETMASTER)
		TNT1 A 1
		TNT1 A 0 A_SetUserVar("user_theta",user_theta+1)
		TNT1 A 0 A_JumpIf(user_theta>=48,1)
		Loop
		TNT1 A 1
		stop
	}
}

ACTOR FinalFlashTrail
{
	Radius 48
	Height 64
	Scale 2.5
	Speed 0
	PROJECTILE
	RENDERSTYLE ADD
	ALPHA 0.67
	+Nointeraction
	States
	{
	Spawn:
		WLXP B 1 A_FadeOut(0.025)
		Wait
	}
}

ACTOR FinalFlashDeath : FinalFlashTrail
{
	States
	{
	Spawn:
		WLXP A 1 A_FadeOut(0.01)
		Wait
	}
}

Actor KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(80,256,0)
		TNT1 A 0 A_SpawnItemEx("KDBossBiggerFlame",Random(-60,60),Random(-60,60),Random(0,30),VelX,VelY,0.1 * Random(-2,160),0,SXF_ABSOLUTEVELOCITY)
		Stop
	}
}
Actor KDBossBiggerFlame128 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(128,256,0)
		Goto Super::Spawn+1
	}
}
Actor KDBossBiggerFlame96 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(96,256,0)
		Goto Super::Spawn+1
	}
}
Actor KDBossBiggerFlame64 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(64,256,0)
		Goto Super::Spawn+1
	}
}
Actor KDBossBiggerFlame48 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(48,256,0)
		Goto Super::Spawn+1
	}
}
Actor KDBossBiggerFlame32 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(32,256,0)
		Goto Super::Spawn+1
	}
}
Actor KDBossBiggerFlame16 : KDBossBiggerFlame80
{
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_Explode(16,256,0)
		Goto Super::Spawn+1
	}
}

ACTOR FlashFire
{
	Speed 0
	Damage 5
	Radius 64
	Height 112
	Projectile
	Alpha 1
	Scale 4.0
	RenderStyle Add
	+RANDOMIZE
	+FORCERADIUSDMG
	+RIPPER
	SeeSound "vile/firestrt"
	DamageType "STBoss"
	states
	{
	Spawn:
		FIRE HHGGFFEEDDCCBBAA 1 bright A_SpawnItemEx("KDBossBiggerFlame80")
		FIRE BBAABBAABB 1 bright A_SpawnItemEx("KDBossBiggerFlame128")
		FIRE CCBBCCBBCCBB 1 bright A_SpawnItemEx("KDBossBiggerFlame96")
		FIRE DDCCDDCCD 1 bright A_SpawnItemEx("KDBossBiggerFlame64")
		FIRE DEEDDEEDDE 1 bright A_SpawnItemEx("KDBossBiggerFlame48")
		FIRE EFFEEFFEEFF 1 bright A_SpawnItemEx("KDBossBiggerFlame32")
		FIRE GGHHGGHHGGHH 1 bright A_SpawnItemEx("KDBossBiggerFlame16")
		stop
	}
}

Actor STBossAttack9
{
	DamageType "Animate"
	Speed 12
	Height 64
	FastSpeed 16
	Projectile
	RenderStyle Add
	Scale 0.33
	+RANDOMIZE
	+NODAMAGETHRUST
	+DONTSPLASH
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR B -1 bright
		loop
	Death:
		BAL7 C 6
		BAL7 C 0 A_SpawnItemEx("KDBossFlameGen")
		BAL7 C 0 A_SpawnItemEx("KDBossSparkGen")
		BAL7 DE 6 bright
		TNT1 A 34
		TNT1 A 18 A_SpawnItemEx("KDBossSparkGen")
		BAL7 E 0 A_Burst("STBossDropFire")
		stop
	}
}

ACTOR STBossDropFire
{
	DamageType "Animate"
	Radius 16
	Height 8
	Damage 1
	PROJECTILE
	RENDERSTYLE ADD
	ALPHA 0.90
	-NOGRAVITY
	Gravity .125
	+FORCERADIUSDMG
	+NOEXPLODEFLOOR
	+NODAMAGETHRUST
	+DONTSPLASH
	+RIPPER
	var int user_theta;
	States
	{
	Spawn:
		TNT1 A 1 NODELAY A_Playsound("weapons/onfire")
		TNT1 A 1 A_SpawnItemEx("KDBossBiggerFlame",0,0,0,0.1 * Random(0,20),0.1 * Random(0,20),0.1 * Random(0,25),Random(0,359))
		TNT1 A 1 A_Explode(2,32,0)
		TNT1 A 0 A_SetUserVar("user_theta",user_theta+1)
		TNT1 A 0 A_JumpIf(user_theta>=20,1)
		Goto Spawn+1
		TNT1 A 0 A_SetUserVar("user_theta",0)
		TNT1 A 1 A_Jump(4,1)
		loop
		TNT1 A 0 A_SpawnItemEx("KDBossFlameGen")
	Death:
		TNT1 A 1 A_SpawnItemEx("KDBossSmokeGen")
		stop
	}
}

ACTOR SpiritKnight : BaronOfHell
{
	+NOBLOCKMONST
	Health 100
	Translation ice
	Alpha 0.6
	RenderStyle Translucent
	Obituary "%o's existence was ended."
	States
	{
	Spawn:
		Goto Raise
	Raise:
		BOS2 ONMLKJI 6
		goto See
	Missile:
		BOS2 EF 8 A_FaceTarget
		BOS2 G 8 A_CustomComboAttack("SpiritBall",32,random(1,8)*5)
		goto See
	Death:
		BOS2 A 0 A_SpawnItemEx("KDBossIce")
		BOS2 IJKLMNO 6 A_FadeOut(0.1)
		Stop
	}
}

ACTOR SpiritBall : BaronBall
{
	damage 4
	translation ice
	DamageType "STBossFactor"
}

ACTOR SpiritCaller
{
	Projectile
	+RIPPER
	-DROPOFF
	+THRUACTORS
	+BLOODLESSIMPACT
	Damage 0
	Speed 20
	FastSpeed 10
	states
	{
	Spawn:
		TNT1 A 2 A_SpawnItemEx("SpiritKnight",0,0,0,0,0,0,0,0,224)
		loop
	Death:
		TNT1 A 0
		stop
	}
}

ACTOR SpiritBoss 32765
{
	Health 50000
	Translation ice
	Mass 100000
	Radius 48
	Height 128
	Alpha 0.8
	Scale 2.0
	Speed 8
	FastSpeed 10
	Renderstyle translucent
	MeleeRange 144
	PainChance 1
	DamageFactor "STBoss",0
	DamageFactor "STBossFactor",0
	DamageFactor "Animate",0
	damagefactor "bossfactor",0.01
	damagefactor "corefriendly",0
	Monster
	+FLOORCLIP
	+BOSSDEATH
	+NORADIUSDMG
	+BOSS
	+DONTMORPH
	+DONTRIP
	+LOOKALLAROUND
	+MISSILEMORE
	+NOTIMEFREEZE
	+NOBLOCKMONST
	+NOTARGET
	+NOINFIGHTING
	+QUICKTORETALIATE
	Obituary "%o's existence was erased by the spirit of Mephistopheles."
	states
	{
	Spawn:
		BOSS ABCD 6 A_Look
		Loop
	See:
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		Loop
	Heal:
		BOSS A 1
		Goto See
	Missile:
		BOSS A 0 A_Jump(192,"Summon1","Summon1","Summon1","Summon1","Summon2","Summon2","Summon2","Summon3","Summon3","Summon4")
	Pain:
	SpiritNuke:
		BOSS EF 6 A_FaceTarget
		BOSS G 0 A_SpawnItemEx("STIceEffect")
		BOSS G 8 A_CustomMissile("SpiritNuke",64)
		Goto See
	Summon1:
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		Goto See
	Summon2:
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		Goto See
	Summon3:
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		Goto See
	Summon4:
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS A 1 A_VileChase
		BOSS A 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS B 1 A_VileChase
		BOSS B 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS C 1 A_VileChase
		BOSS C 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS D 1 A_VileChase
		BOSS D 0 A_SpawnItemEx("PowerFTFire2",random(32,-32),random(32,-32))
		BOSS H 0 A_CustomMissile("SpiritCaller",64,0,Random(0,360))
		Goto See
	Melee:
		BOSS EF 16 A_FaceTarget
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-192,192),random(-192,192),32,random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-192,192),random(-192,192),32,random(0,12),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-192,192),random(-192,192),32,random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-192,192),random(-192,192),32,random(0,12),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-224,224),random(-224,224),Random(24,48),random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-224,224),random(-224,224),Random(24,48),random(0,12),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-224,224),random(-224,224),Random(24,48),random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-224,224),random(-224,224),Random(24,48),random(0,12),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-256,256),random(-256,256),Random(16,64),random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-256,256),random(-256,256),Random(16,64),random(0,12),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-256,256),random(-256,256),Random(16,64),random(0,9),random(0,6),random(0,3))
		BOSS G 1
		BOSS GGGGGGGGGGGG 0 A_SpawnItemEx("PowerFTFire2",random(-256,256),random(-256,256),Random(16,64),random(0,12),random(0,6),random(0,3))
		BOSS G 4
		Goto See
	Death:
		BOSS IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 5 A_Mushroom("STBossIce",Random(1,8))
		BOSS I 8 ACS_NamedExecuteAlways("AwardPoints",0)
		BOSS J 8 Thing_Destroy(0,1)
		BOSS K 8 ACS_Execute(910,0)
		BOSS LMNO 8 A_FadeOut(0.2)
		Stop
	}
}

ACTOR SpiritNuke
{
	DamageType "STBoss"
	Speed 30
	Damage 32
	Mass 5
	Radius 20
	Height 20
	FastSpeed 40
	Projectile
	Scale 4.0
	Renderstyle Add
	Alpha 1.0
	+RANDOMIZE
	+FORCERADIUSDMG
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STEM A 0 A_SpawnItemEx("PowerFTFire2",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		STEM A 0 A_CustomMissile("PowerFTFire2NoDMG",0,0,Random(0,360),2,Random(0,360))
		STEM A 0 A_SpawnItemEx("PowerFTFire2",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		STEM A 0 A_CustomMissile("PowerFTFire2NoDMG",0,0,Random(0,360),2,Random(0,360))
		STEM A 0 A_SpawnItemEx("PowerFTFire2",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17))
		STEM A 1 A_CustomMissile("PowerFTFire2NoDMG",0,0,Random(0,360),2,Random(0,360))
		loop
	Death:
		TNT1 A 0 A_SpawnItemEx("STIceEffect")
		TNT1 A 0 A_SpawnItemEx("KDBossBiggerIce")
		TNT1 A 0 A_Mushroom("PowerFTFire2",16)
		TNT1 AAAAAAAAAAAA 1 A_CustomMissile("PowerFTFire2",0,0,Random(180,-180),2,Random(180,-180))
		TNT1 AAAAAAAA 2 A_CustomMissile("PowerFTFire2",0,0,Random(180,-180),2,Random(180,-180))
		TNT1 AAAA 3 A_CustomMissile("PowerFTFire2",0,0,Random(180,-180),2,Random(180,-180))
		stop
	}
}

ACTOR STBossIce : STBossAttack2
{
	Translation Ice
}

ACTOR KDBossIce : KDBossFlame
{
	Translation Ice
}

ACTOR KDBossBiggerIce : KDBossBiggerFlame
{
	Translation Ice
}

ACTOR STIceEffect : STFireEffect
{
	Translation Ice
	Scale 4.0
}

ACTOR PowerFTFire2
{
	Radius 2
	Height 4
	Speed 16
	Damage 3
	Translation Ice
	PROJECTILE
	RENDERSTYLE ADD
	+STRIFEDAMAGE
	DamageType "STBoss"
	ALPHA 0.67
	Scale 0.67
	States
	{
	Spawn:
		STEM A 2
		STEM BCD 2 A_Explode(Random(4,8),16,0)
		STEM EFG 2 A_Explode(Random(4,8),32,0)
		STEM HIJ 2 A_Explode(Random(4,8),48,0)
		STEM KJI 2 A_Explode(Random(4,8),64,0)
		STEM HGFEDCBA 1
		stop
	Death:
		STEM J 1 A_Explode(Random(8,12),96,0)
		STEM I 1 A_Explode(Random(8,12),72,0)
		STEM HGECA 1
		stop
	}
}

ACTOR PowerFTFire2NoDMG : PowerFTFire2
{
	Damage 0
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
	Spawn:
	STEM ABCDEFGHIJKJI 2
	STEM HGFEDCBA 1
	stop
	Death:
	STEM JIHGECA 1
	stop
	}
}

ACTOR CyberdemonMk2 32757
{
	//$Category Stronghold_Monsters
	Translation "1:2=247:247","48:72=90:111","73:79=5:8","128:140=101:111","141:143=5:7","144:151=5:7","236:239=247:247"
	Health 50000
	MeleeRange 160
	Radius 50
	Height 125
	Mass 1600
	Speed 3.2
	PainChance 1
	Scale 1.25
	MONSTER
	MinMissileChance 80
	+Boss
	+MissileEvenMore
	+FloorClip
	+DontRip
	+DontMorph
	+DontHarmClass
	+NoRadiusDMG
	+QuickToRetaliate
	+NoTimeFreeze
	DropItem "Megasphere"
	DropItem "WeaponPowerItem"
	DropItem "WeaponPowerItem"
	DropItem "WeaponPowerItem"
	DropItem "SmartBombItem"
	DropItem "InvulnerabilityItem"
	DropItem "InvulnerabilityItem"
	SEESOUND "cyber/sight"
	PAINSOUND "cyber/pain"
	DEATHSOUND "cyber/death"
	ACTIVESOUND "cyber/active"
	OBITUARY "%o Was Destroyed By The Cyberdemon Mk. II!"
	var int user_theta;
	states
	{
	Spawn:
		CYBR AB 10 A_Look
		Loop
	See:
		CYBR A 1 A_Hoof
		CYBR AAAA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR A 1 A_Chase
		CYBR AAAA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR BBBB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR BBBB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR CCCC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR CCCC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Metal
		CYBR DDDD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Chase
		CYBR DDDD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR A 1 A_Hoof
		CYBR AAAA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR A 1 A_Chase
		CYBR AAAA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR BBBB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR BBBB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR CCCC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR CCCC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Metal
		CYBR DDDD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Chase
		CYBR DDDD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		Loop
	Missile:
		CYBR E 0 A_SetUserVar("user_theta",0)
		CYBR B 0 A_Jump(128,"LiteSpam")
		CYBR B 0 A_Jump(64,"Devastation")
		CYBR E 6 A_FaceTarget
		CYBR F 0 A_CustomMissile("Rocket",85,-24,5)
		CYBR F 6 A_CustomMissile("Rocket",85,-24,-5)
		CYBR F 6 A_CustomMissile("Rocket",85,-24,0)
		CYBR E 6 A_FaceTarget
		CYBR F 0 A_CustomMissile("Rocket",85,-24,10)
		CYBR F 0 A_CustomMissile("Rocket",85,-24,-10)
		CYBR F 6 A_CustomMissile("Rocket",85,-24,0)
		CYBR E 6 A_FaceTarget
		CYBR F 0 A_CustomMissile("Rocket",85,-24,15)
		CYBR F 0 A_CustomMissile("Rocket",85,-24,-15)
		CYBR F 6 A_CustomMissile("Rocket",85,-24,0)
		Goto See
	Devastation:
		CYBR E 32 A_FaceTarget
		CYBR E 0 A_FaceTarget
		CYBR F 32 BRIGHT A_CustomMissile("DevastatorZone",85)
		Goto See
	LiteSpam:
		CYBR B 0 A_Jump(64,"UltraDevastation")
		CYBR F 10 A_FaceTarget
		CYBR E 0 A_FaceTarget
		CYBR F 3 BRIGHT A_CustomMissile("LiteShot2",85,-24,Random(4,-4))
		CYBR E 0 A_SetUserVar("user_theta",user_theta+1)
		CYBR E 0 A_JumpIf(user_theta>=16,"See")
		Goto LiteSpam+2
	UltraDevastation:
		CYBR A 0 A_Jump(192,"Summon")
		CYBR A 1 A_SetInvulnerable
		CYBR E 64 A_PlaySound("cyber/sight")
		CYBR E 1 BRIGHT A_Mushroom("LiteShotNoDMG",7)
		CYBR E 150 A_PlaySound("weapons/bfgf")
		CYBR F 0 A_FaceTarget
		CYBR F 0 A_CustomMissile("UltraBallA",85)
		CYBR F 0 A_CustomMissile("UltraBallB",85,0,90)
		CYBR F 0 A_CustomMissile("UltraBallB",85,0,180)
		CYBR F 0 A_CustomMissile("UltraBallB",85,0,270)
		CYBR F 0 A_Mushroom("UltraBallC",5)
		CYBR F 100 A_FaceTarget
		CYBR A 1 A_UnsetInvulnerable
		Goto See
	Summon:
		CYBR E 64 A_FaceTarget
		CYBR G 0 A_SpawnItemEx("MiniCyberSummon",0,0,0,32,0,0,user_theta,SXF_SETMASTER|SXF_TRANSFERTRANSLATION)
		CYBR E 0 A_SetUserVar("user_theta",user_theta+15)
		CYBR E 0 A_JumpIf(user_theta>=360,1)
		Goto Summon+1
		CYBR G 64 A_FaceTarget
		Goto See
	Melee:
		CYBR E 0 A_SetUserVar("user_theta",0)
		CYBR A 0 A_Jump(85,"Melee2")
		CYBR E 4 A_FaceTarget
		CYBR F 1 A_CustomMissile("HadesBall",85,-24)
		CYBR FFF 1 A_CustomMissile("HadesBall",85,-24,random(-20,20))
		CYBR E 0 A_SetUserVar("user_theta",user_theta+1)
		CYBR E 0 A_JumpIf(user_theta>=6,"See")
		Goto Melee+2
	Melee2:
		CYBR E 35 A_FaceTarget
		CYBR F 0 A_FaceTarget
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,2)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,4)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,6)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,8)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,10)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,12)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-12)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-10)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-8)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-6)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-4)
		CYBR F 0 A_CustomMissile("DevastatorBall4",85,-24,-2)
		CYBR F 35 A_CustomMissile("CyberDevastatorBall",85,-24)
		Goto See
	Pain:
		CYBR E 0 A_SetUserVar("user_theta",0)
		CYBR G 10 A_Pain
		CYBR F 0 A_UnSetInvulnerable
		CYBR F 0 A_FaceTarget
		CYBR E 35 A_Jump(128,"LightningCircle")
		CYBR F 35 A_CustomMissile("CyberDevastatorBall",85,-24)
		Goto See
	LightningCircle:
		CYBR F 0 A_CustomMissile("LiteShot2",85,0,user_theta)
		CYBR E 0 A_SetUserVar("user_theta",user_theta+20)
		CYBR E 0 A_JumpIf(user_theta>=360,1)
		Loop
	LightningCircle2:
		CYBR F 0 A_CustomMissile("DevastatorBall3",85,0,user_theta)
		CYBR E 0 A_SetUserVar("user_theta",user_theta+30)
		CYBR E 0 A_JumpIf(user_theta>=360,1)
		Loop
		CYBR F 35
		Goto See
	Death:
		CYBR H 10 ACS_NamedExecuteAlways("AwardPoints",0)
		CYBR H 10 A_Scream
		CYBR IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 BRIGHT A_CustomMissile("LiteShotNoDMG",85,random(0,45),random(0,360),random(0,360),random(0,360))
		CYBR JK 10
		CYBR LLLLLLLLLLLLLLLLLLLLLLL 0 A_CustomMissile("LiteShotNoDMG",80,32,random(0,360),2,random(0,360))
		CYBR L 10
		CYBR M 10 A_NoBlocking
		CYBR NO 10
		CYBR P -1
		Stop
	}
}

ACTOR LiteShot2 : FastProjectile
{
	Radius 2
	Height 3
	Speed 56
	Damage 4
	PROJECTILE
	RENDERSTYLE ADD
	Alpha 0.85
	DamageType "Cyber2Factor"
	SEESOUND "weapons/devlit"
	DEATHSOUND "weapons/devzap"
	+Ripper
	+StrifeDamage
	states
	{
	Spawn:
		DLIT AAABBBCCC 1 BRIGHT A_SpawnItemEx("LiteTrail")
		Loop
	Death:
		DLIT DEFGHIJKLMNO 1 BRIGHT
		Stop
	}
}
ACTOR LiteShotNoDMG : LiteShot
{
	Damage 0
}
ACTOR CyberDevastatorBall : DevastatorBall
{
	-THRUSPECIES
	DamageType "Cyber2Factor"
	States
	{
	Spawn:
		DBAL AB 4 Bright
		DBAL A 4 Bright A_Explode(128,128,0)
		DBAL A 0 A_Jump(160,3)
		DBAL AAA 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL B 4 Bright A_Explode(128,128,0)
		DBAL B 0 A_Jump(160,3)
		DBAL BBB 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		Goto Spawn+2
	Death:
		DBAL C 5 Bright A_SetUserVar("user_theta",18)
		DBAL D 5 Bright A_Explode
		DBAL D 0 A_CustomMissile("DevastatorBall3",0,0,user_theta,2)
		CYBR E 0 A_SetUserVar("user_theta",user_theta+18)
		CYBR E 0 A_JumpIf(user_theta>=360,1)
		Goto Death+2
		DBAL EFG 5 Bright A_Explode
		DBAL HI 3 Bright
		stop
	}
}
ACTOR DevastatorBall3 : DevastatorBall2
{
	-THRUGHOST
	DamageType "Cyber2Factor"
}
ACTOR DevastatorBall4 : DevastatorBall3
{
	Speed 28
}
ACTOR UltraBallA
{
	Radius 12
	Height 8
	Speed 30
	FastSpeed 40
	Damage 20
	PROJECTILE
	RENDERSTYLE ADD
	Alpha 0.90
	DamageType "Cyber2Factor"
	DEATHSOUND "weapons/devexp"
	Decal DevastatorLightning
	states
	{
	Spawn:
		DBAL AB 4 BRIGHT
		DBAL A 4 BRIGHT A_Explode(64,128,0)
		DBAL A 0 A_Jump(160,3)
		DBAL AAA 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL B 0 A_Jump(160,3)
		DBAL BBB 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		Goto Spawn+2
	Death:
		DBAL C 5 BRIGHT A_Explode(256,360,0)
		DBAL DDDDDDDDDDDDDDDDDDDD 0 A_CustomMissile("UltraBallB",32,0,Random(0,360),2,Random(0,360))
		DBAL DEFGHI 5 BRIGHT
		Stop
	}
}

ACTOR UltraBallB
{
	Radius 12
	Height 8
	Speed 30
	Damage 15
	PROJECTILE
	RENDERSTYLE ADD
	Alpha 0.90
	DamageType "Cyber2Factor"
	DEATHSOUND "weapons/devexp"
	Decal DevastatorLightning
	states
	{
	Spawn:
		DBAL AB 4 BRIGHT
		DBAL A 4 BRIGHT A_Explode(64,128,0)
		DBAL A 0 A_Jump(160,3)
		DBAL AAA 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL B 0 A_Jump(160,3)
		DBAL BBB 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL AB 4 BRIGHT
		DBAL A 4 BRIGHT A_Explode(64,128,0)
		DBAL A 0 A_Jump(160,3)
		DBAL AAA 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL B 0 A_Jump(160,3)
		DBAL BBB 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL AB 4 BRIGHT
		DBAL A 4 BRIGHT A_Explode(64,128,0)
		DBAL A 0 A_Jump(160,3)
		DBAL AAA 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL B 0 A_Jump(160,3)
		DBAL BBB 0 A_CustomMissile("LiteShot2",0,0,Random(0,360))
	Death:
		DBAL C 5 BRIGHT A_Explode(256,320,0)
		DBAL DDDDDDDDDDDDDDDDDDDD 0 A_CustomMissile("UltraBallC",32,0,Random(0,360),2,Random(0,360))
		DBAL DEFGHI 5 BRIGHT
		Stop
	}
}

ACTOR UltraBallC
{
	Radius 12
	Height 8
	Speed 30
	Damage 12
	PROJECTILE
	RENDERSTYLE ADD
	Alpha 0.90
	DamageType "Cyber2Factor"
	DEATHSOUND "weapons/devexp"
	Decal DevastatorLightning
	states
	{
	Spawn:
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
		DBAL A 4 BRIGHT
		DBAL B 4 BRIGHT A_Explode(64,128,0)
	Death:
		DBAL C 5 BRIGHT A_Explode(256,256,0)
		DBAL DDDDDDDDDDDDDDDDDDDD 0 A_CustomMissile("DevastatorBall3",32,0,Random(0,360),2,Random(0,360))
		DBAL DEFGHI 5 BRIGHT
		Stop
	}
}
ACTOR DevastatorZone : UltraBallA
{
	Scale 1.25
	Damage 0
	ReactionTime 5
	-THRUGHOST
	+RIPPER
	+FORCERADIUSDMG
	+FOILINVUL
	Speed 10
	var int user_theta;
	States
	{
	Spawn:
		DBAL AB 4 A_SetTranslucent(Random(10,100)/100.0)
		DBAL A 0 A_Jump(128,1)
		Loop
		DBAL A 0 A_Countdown
		Loop
	Death:
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx("RedSparkleRandom",Random(128,-128),Random(128,-128),-32,0,0,frandom(0.25,4.00))
		TNT1 A 1 A_SetUserVar("user_theta",user_theta+1)
		TNT1 A 0 A_JumpIf(user_theta>=90,1)
		Loop
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ZoneKillerPickup",Random(128,-128),Random(128,-128))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ZoneKillerPickup",Random(128,-128),Random(128,-128))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ZoneKillerPickup",Random(128,-128),Random(128,-128))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ZoneKillerPickup",Random(128,-128),Random(128,-128))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ZoneKillerPickup",Random(128,-128),Random(128,-128))
		LFX2 FGHIJFGHIJFGHIJ 2 Bright A_Explode(512,128,0)
		LFX2 FGHIJ 2 Bright A_FadeOut(0.2)
		Stop
	}
}

ACTOR ZoneKillerPickup
{
	RENDERSTYLE ADD
	Alpha 0.6
	Scale 1.25
	States
	{
	Spawn:
		LFX2 FGHIJFGHIJFGHIJ 2 Bright A_Explode(9999,20,0)
		LFX2 FGHIJ 2 Bright A_FadeOut(0.2)
		Stop
	}
}

ACTOR MiniCyberSummon
{
	Radius 1
	Height 1
	Speed 32
	PROJECTILE
	states
	{
	Spawn:
		TNT1 A 2
	Death:
		DBAL CDE 5 BRIGHT A_Stop
		DBAL F 5 BRIGHT A_SpawnItemEx("MiniCyber",0,0,0,0,0,0,0,SXF_SETMASTER | SXF_TRANSFERTRANSLATION)
		DBAL GHI 5 BRIGHT
		Stop
	}
}

ACTOR MiniCyber : StrongholdCyberdemon 32756
{
	//$Category Stronghold_Monsters
	//Translation "1:2=247:247","48:72=90:111","73:79=5:8","128:140=101:111","141:143=5:7","144:151=5:7","236:239=247:247"
	OBITUARY "%o was made into fireworks by a mini-Cyberdemon."
	Health 40
	Radius 20
	Height 55
	Scale 0.5
	Mass 500
	Speed 6
	PainChance 255
	painchance "Stunner",255
	MinMissileChance 200
	DropItem "RocketAmmo"
	DropItem "Cell"
	DropItem "HealthBonus"
	DropItem "ArmorBonus"
	-BOSS
	-DONTMORPH
	-BOSSDEATH
	states
	{
	See:
		CYBR A 1 A_Hoof
		CYBR A 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR A 1 A_Chase
		CYBR A 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR B 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR B 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR C 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR C 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Metal
		CYBR D 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Chase
		CYBR D 1 A_Chase("","",CHF_NOPLAYACTIVE)
		Loop
	Missile:
		CYBR E 12 A_FaceTarget
		CYBR F 12 A_CustomMissile("MiniRocket",20)
		CYBR E 12 A_FaceTarget
		CYBR F 12 A_CustomMissile("MiniRocket",20)
		CYBR E 12 A_FaceTarget
		CYBR F 12 A_CustomMissile("MiniRocket",20)
		Goto See
	}
}

ACTOR ChaosCyber : StrongholdCyberDemon 32755
{
	//$Category Stronghold_Monsters
	Translation "1:2=247:247","48:72=170:191","73:79=5:8","128:140=181:191","141:143=189:191","144:151=189:191","236:239=247:247"
	OBITUARY "\c[E9]%o \c[E9]met an irritating cyberdemon."
	Radius 26
	Height 55
	Scale 0.5
	Mass 48
	Speed 12
	PainChance 32
	MinMissileChance 200
	-BOSSDEATH
	+MissileEvenMore
	+LookAllAround
	+DontRip
	states
	{
	See:
		CYBR A 1 A_Hoof
		CYBR A 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR A 1 A_Chase
		CYBR A 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR B 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR B 1 A_Chase
		CYBR B 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR C 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR C 1 A_Chase
		CYBR C 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Metal
		CYBR D 1 A_Chase("","",CHF_NOPLAYACTIVE)
		CYBR D 1 A_Chase
		CYBR D 1 A_Chase("","",CHF_NOPLAYACTIVE)
		Loop
	Missile:
		CYBR A 0 A_Jump(192,"Missile2")
		CYBR E 5 A_FaceTarget
		CYBR F 10 A_CustomMissile("ChaosRocket",28)
		CYBR E 10 A_FaceTarget
		CYBR F 10 A_CustomMissile("ChaosRocket",28)
		CYBR E 10 A_FaceTarget
		CYBR F 10 A_CustomMissile("ChaosRocket",28)
		CYBR A 0 A_Jump(96,"Missile")
		Goto See
	Missile2:
		CYBR A 0 A_Jump(170,"Missile3")
		CYBR EEEE 8 A_FaceTarget
		CYBR F 24 A_CustomMissile("CyberEruptionProjectile",32)
		CYBR A 0 A_Jump(96,"Missile")
		Goto See
	Missile3:
		CYBR A 0 A_Jump(128,"Missile4")
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR E 0 A_FaceTarget
		CYBR E 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR F 0 A_FaceTarget
		CYBR F 3 A_CustomMissile("DFlare",28,0,random(-10,10))
		CYBR A 0 A_Jump(128,"See")
		Goto Missile3+1
	Missile4:
		CYBR E 35 A_FaceTarget
		CYBR E 0 A_FaceTarget
		CYBR F 1 BRIGHT A_CustomBulletAttack(0,0,1,0,"Terminatorpuff")
		CYBR F 0 A_PlaySound("Terminator/tershotB")
		CYBR E 0 A_FaceTarget
		CYBR E 1 BRIGHT A_CustomBulletAttack(0,0,1,1,"Terminatorpuff")
		CYBR F 0 A_PlaySound("Terminator/tershotB")
		CYBR E 0 A_FaceTarget
		CYBR F 1 BRIGHT A_CustomBulletAttack(0,0,1,0,"Terminatorpuff")
		CYBR F 0 A_PlaySound("Terminator/tershotB")
		CYBR E 0 A_FaceTarget
		CYBR E 1 BRIGHT A_CustomBulletAttack(0,0,1,1,"Terminatorpuff")
		CYBR F 0 A_PlaySound("Terminator/tershotB")
		CYBR E 0 A_SpidRefire
		Goto Missile4+1
	Melee:
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR E 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		CYBR F 0 A_FaceTarget
		CYBR EF 3 A_CustomMissile("ChaosCyberPyroFlare",32,0,random(-5,5))
		Goto See
	}
}

ACTOR MiniRocket : Rocket2
{
	Radius 3
	Height 3
	Speed 25
	Scale 0.5
	Damage(20)
	DamageType "Cyber2Factor"
	states
	{
	Death:
		Goto Super::Death+1
	}
}

ACTOR ChaosRocket : MiniRocket
{
	Radius 2
	Height 2
	Speed 30
	Scale 0.75
	Damage 10
	states
	{
	Death:
		MISL B 0 A_Explode(32,128)
		Goto Rocket2::Death+1
	}
}

ACTOR ChaosCyberPyroFlare : PyroFlare
{
	Damage 1
	Speed 12
	DamageType "Cyber2Factor"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 Thrustthingz(0,12,0,1)
		TNT1 A 1 A_SpawnItemEx("PyroFX")
		Wait
	Death:
		FRFX HIJ 2 Bright
		FRFX J 0 A_Explode(12,32)
		FRFX J 0 A_SpawnItemEx("DropFire2")
		FRFX KLMNO 2 Bright
		stop
	}
}

ACTOR FTFire2
{
	Radius 2
	Height 4
	Speed 16
	Damage 1
	PROJECTILE
	RENDERSTYLE ADD
	DamageType "Cyber2Factor"
	ALPHA 0.67
	Scale 0.67
	SeeSound "weapons/flamer"
	DeathSound "weapons/scorch"
	+THRUGHOST
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 2
		FRFX ABCD 2 A_Explode(5,8,0)
		FRFX D 0 A_Lowgravity
		FRFX EFG 2 A_Explode(5,16,0)
		FRFX HIJ 2 A_Explode(5,32,0)
		FRFX KLM 2 A_Explode(5,64,0)
		FRFX NO 2
		stop
	Death:
		FRFX HIJ 2 A_Explode(5,32,0)
		FRFX J 0 A_CustomMissile("DropFire2",0,0,0,4)
		FRFX KLM 2 A_Explode(5,64,0)
		FRFX NO 2
		stop
	}
}
ACTOR DropFire2
{
	Radius 8
	Height 40
	PROJECTILE
	RENDERSTYLE ADD
	DamageType "CoreFriendly"
	ALPHA 0.90
	-NOGRAVITY
	Gravity .125
	+NOEXPLODEFLOOR
	+NODAMAGETHRUST
	+THRUGHOST
	+DONTSPLASH
	States
	{
	Spawn:
		FLME A 1 A_Playsound("weapons/onfire")
		FLME A 1 A_Explode(2,32,0)
		FLME BCDEFGHIJKLMN 2 A_Explode(2,16,0)
		FLME A 1 A_Playsound("weapons/onfire")
		FLME A 1 A_Explode(2,32,0)
		FLME BCDEFGHIJKLMN 2 A_Explode(2,16,0)
		FLME A 1 A_Playsound("weapons/onfire")
		FLME A 1 A_Explode(2,32,0)
		FLME BCDEFGHIJKLMN 2 A_Explode(2,16,0)
		FLME A 1 A_Playsound("weapons/onfire")
		FLME A 1 A_Explode(2,32,0)
		FLME BCDEFGHIJKLMN 2 A_Explode(2,16,0)
		FLME A 1 A_Playsound("weapons/onfire")
		FLME A 1 A_Explode(2,32,0)
		FLME BCDEFGHIJKLMN 2 A_Explode(2,16,0)
		FLME A 0 A_Jump(192,1)
		loop
	Death:
		TNT1 A 1
		stop
	}
}

ACTOR CyberEruptionProjectile
{
	DamageType "Cyber2Factor"
	Speed 30
	Damage 16
	Radius 8
	Height 8
	FastSpeed 40
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 0.4
	Translation "112:127=160:167"
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR B 1 bright A_SpawnItemEx("KDBossFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17),0)
		loop
	Death:
		BAL7 C 0 A_SpawnItemEx("KDBossFlameGen")
		BAL7 C 0 A_SpawnItemEx("KDBossSmokeGen")
		BAL7 C 0 A_Explode(64,256,0)
		BAL7 CCCCCCCCCCCC 0 A_CustomMissile("EruptionB",random(4,12),0,random(0,360),2,random(0,90))
		stop
	}
}

ACTOR EruptionB
{
	DamageType "Cyber2Factor"
	Speed 20
	Damage 8
	Radius 16
	Height 16
	FastSpeed 35
	Projectile
	RenderStyle Add
	Alpha 1
	Scale 0.3
	-NOGRAVITY
	Translation "112:127=160:167"
	SeeSound "vile/firestrt"
	DeathSound "imp/shotx"
	states
	{
	Spawn:
		STFR AAAA 1 bright A_SpawnItemEx("KDBossFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17),0)
		STFR A 1 bright A_SpawnItemEx("KDBossFlame",0,0,0,0.1 * Random(-6,6),0.1 * Random(-6,6),0.1 * Random(-2,17),0)
		STFR A 0 A_Jump(64,"Death")
		Goto Spawn+3
	Death:
		BAL7 C 0 A_SpawnItemEx("KDBossFlameGen")
		BAL7 C 0 A_SpawnItemEx("KDBossSmokeGen")
		BAL7 C 0 A_Explode(32,256,0)
		stop
	}
}